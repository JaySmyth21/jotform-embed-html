<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your JotForm with Dynamic Logic</title>
</head>
<body>
    <h1>Your JotForm</h1>
    <!-- Embed your JotForm here -->
    <iframe src="https://form.jotform.com/242687434974269" style="width:100%; height:600px;" frameborder="0"></iframe>
<script>
    // **Listen for messages from the iframe**
window.addEventListener('message', function(event) {
    // Ensure the message comes from your iframe
    if (event.origin !== "https://your-iframe-origin.com") return; // Replace with your actual iframe origin

    const message = event.data;
    const parsedData = message.split(':');

    if (parsedData.length === 3) {
        const resourceName = parsedData[1].trim();
        const resourceStatus = parsedData[2].trim();

        console.log(`Resource Name: ${resourceName}, Resource Status: ${resourceStatus}`);

        // Update fields based on resource name
        if (resourceName.includes("Sairuh")) {
            const piercerField = document.getElementById('input_80'); // Piercer status
            if (piercerField) {
                piercerField.value = resourceStatus; // Update the field value
                console.log('Piercer status updated to:', resourceStatus);
            } else {
                console.error('Piercer status field not found');
            }
        } else if (resourceName.includes("Jennica")) {
            const juniorPiercerField = document.getElementById('input_81'); // Junior Piercer status
            if (juniorPiercerField) {
                juniorPiercerField.value = resourceStatus; // Update the field value
                console.log('Junior Piercer status updated to:', resourceStatus);
            } else {
                console.error('Junior Piercer status field not found');
            }
        } else {
            console.error(`Unknown resource name: ${resourceName}`);
        }
    }
});


</script>
</body>
</html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your JotForm with Dynamic Logic</title>
</head>
<body>
    <h1>Your JotForm</h1>
    <!-- Embed your JotForm here -->
    <iframe src="https://form.jotform.com/242687434974269" style="width:100%; height:600px;" frameborder="0"></iframe>

   <script>
    window.addEventListener('message', function(event) {
        // Validate the origin of the message if needed
        // if (event.origin !== 'https://your-iframe-origin.com') return;

        // Log the message to see what is being received
        console.log('Received message:', event.data);
        
        // Parse the message to get the resource name and status
        const data = event.data.split(':');
        if (data.length !== 3) return; // Ensure the message is properly formatted

        const resourceName = data[1].trim(); // Get resource name
        const resourceStatus = data[2].trim(); // Get resource status

        // Logic to show/hide options based on resource status
        const juniorPiercerField = document.getElementById('input_81'); // Adjust these IDs accordingly
        const piercerField = document.getElementById('input_80'); // Adjust these IDs accordingly

        if (resourceName.includes('Jennica')) {
            // Update Junior Piercer status
            juniorPiercerField.value = resourceStatus; // Populate status if needed
            if (resourceStatus === 'Working') {
                // Show options for Junior Piercer
                console.log('Showing options for Junior Piercer');
            } else {
                // Hide options for Junior Piercer
                console.log('Hiding options for Junior Piercer');
            }
        } else if (resourceName.includes('Sairuh')) {
            // Update Piercer status
            piercerField.value = resourceStatus; // Populate status if needed
            if (resourceStatus === 'Working') {
                // Show options for Piercer
                console.log('Showing options for Piercer');
            } else {
                // Hide options for Piercer
                console.log('Hiding options for Piercer');
            }
        }
    });
</script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piercing Service Form</title>
    <style>
      body {
          display: flex;
          flex-direction: column; /* Stack the h1 and form vertically */
          justify-content: center; /* Center the content horizontally */
          align-items: center; /* Center the content vertically */
          min-height: 100vh; /* Full viewport height */
          margin: 0; /* Remove default margin */
          background-color: #f7f7f7; /* Optional: Light background color */
      }

      h1 {
          text-align: center; /* Center-align the title text */
          margin-bottom: 20px; /* Add space between the title and form */
      }

      form {
          width: 75%; /* Set form width to 75% of the page */
          background-color: #fff; /* Optional: White background for the form */
          padding: 20px; /* Optional: Padding around the form */
          border-radius: 8px; /* Optional: Rounded corners */
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Optional: Subtle shadow for depth */
      }

      .services-container {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 20px;
      }

      .services-column {
          list-style: none;
          padding: 0;
      }

      .services-column li {
          display: flex;
          align-items: center;
          margin-bottom: 8px;
      }

      .services-column label {
          margin-left: 8px; /* Add space between checkbox and label */
      }

      .column-title {
          font-weight: bold; /* Bold text for column titles */
          margin-bottom: 10px; /* Space between title and checkbox list */
      }

      .conditional-input {
          display: none; /* Hide by default */
          margin-top: 20px; /* Add space above the text box */
      }
    </style>
    <script>
        function toggleTextBox() {
            const checkboxes = document.querySelectorAll('input[name="services"]:checked');
            const textBox = document.getElementById('piercing-change-textbox');

            const jewelryChangeOrDownsizeSelected = Array.from(checkboxes).some(checkbox => {
                return checkbox.value.includes('Jewelry Change') || checkbox.value.includes('Downsize');
            });

            textBox.style.display = jewelryChangeOrDownsizeSelected ? 'block' : 'none';

            // Validation for the number of selected checkboxes
            const checkedCount = checkboxes.length;
            if (checkedCount > 3) {
                alert("You can select a maximum of three services.");
                // Uncheck the last checkbox if the limit is exceeded
                const lastChecked = checkboxes[checkedCount - 1];
                lastChecked.checked = false;
            }
        }

        function updateServicesBasedOnPiercer() {
            const selectedPiercer = document.querySelector('input[name="piercer"]:checked');

            const piercingServices = [
                'Hidden Helix Piercing',
                'Helix Piercing',
                'Conch Piercing'
            ];

            const jewelryChangesAndDownsizes = [
                'Jewelry Change (One Change)',
                'Jewelry Change (Two Changes)',
                'Jewelry Change (Three Changes)',
                'Jewelry Change (Four Changes)',
                'Jewelry Change (Five Changes)',
                'Jewelry Change (Six Changes)',
                'Jewelry Change (Seven Changes)',
                'Jewelry Change (Eight Changes)',
                'Jewelry Downsize (One)',
                'Jewelry Downsize (Two)',
                'Jewelry Downsize (Three)',
                'Jewelry Downsize (Four)',
                'Jewelry Downsize (Five)',
                'Jewelry Downsize (Six)',
                'Jewelry Downsize (Seven)',
                'Jewelry Downsize (Eight)',
                'Jewelry Removal (General)',
                'General Checkup'
            ];

            const checkboxes = document.querySelectorAll('.services-container input[type="checkbox"]');

            checkboxes.forEach(checkbox => {
                const label = checkbox.nextElementSibling.innerText.trim();

                if (selectedPiercer && selectedPiercer.value === 'Jennica') {
                    checkbox.parentElement.style.display = piercingServices.includes(label) || jewelryChangesAndDownsizes.includes(label) ? 'flex' : 'none';
                } else {
                    checkbox.parentElement.style.display = 'flex';
                }
            });
        }

        function validateServices(event) {
            const checkboxes = document.querySelectorAll('input[name="services"]:checked');
            const checkedCount = checkboxes.length;

            // Require at least one service to be checked before submission
            if (checkedCount < 1) {
                alert("Please select at least one service.");
                event.preventDefault(); // Prevent form submission
                return false;
            }

            return true; // Allow form submission if valid
        }

        window.onload = function() {
            // Initialize services based on default piercer selection
            updateServicesBasedOnPiercer();

            // Listen for changes on piercer selection
            const piercerRadios = document.querySelectorAll('input[name="piercer"]');
            piercerRadios.forEach(radio => {
                radio.addEventListener('change', updateServicesBasedOnPiercer);
            });

            // Listen for form submission to validate
            const form = document.querySelector('form');
            form.addEventListener('submit', validateServices);
        };
    </script>
    
</head>
<body>
    <h1>Piercing Service Form</h1>
    
    <!-- Multiple choice question: Select a Piercer -->
    <form action="/submit-form" method="POST">
        <fieldset>
            <legend>Select a Piercer</legend>
            <input type="radio" id="sairuh" name="piercer" value="Sairuh">
            <label for="sairuh">Sairuh</label><br>

            <input type="radio" id="jennica" name="piercer" value="Jennica">
            <label for="jennica">Jennica</label><br>
        </fieldset>

        <!-- Checkbox question: Select Service(s) -->
        <fieldset>
            <legend>Select Service(s)</legend>

            <div class="services-container">
                <!-- Piercings Column -->
                <div>
                    <div class="column-title">Piercing</div>
                    <ul class="services-column">
                        <li><input type="checkbox" id="angel-fangs" name="services" value="Angel Fangs Piercing" onclick="toggleTextBox()"><label for="angel-fangs">Angel Fangs Piercing</label></li>
                        <li><input type="checkbox" id="bridge" name="services" value="Bridge Piercing" onclick="toggleTextBox()"><label for="bridge">Bridge Piercing</label></li>
                        <li><input type="checkbox" id="cheek-dahlia" name="services" value="Cheek or Dahlia Piercing" onclick="toggleTextBox()"><label for="cheek-dahlia">Cheek or Dahlia Piercing</label></li>
                        <li><input type="checkbox" id="christina" name="services" value="Christina Piercing" onclick="toggleTextBox()"><label for="christina">Christina Piercing</label></li>
                        <li><input type="checkbox" id="conch" name="services" value="Conch Piercing" onclick="toggleTextBox()"><label for="conch">Conch Piercing</label></li>
                        <li><input type="checkbox" id="daith" name="services" value="Daith Piercing" onclick="toggleTextBox()"><label for="daith">Daith Piercing</label></li>
                        <li><input type="checkbox" id="dermal" name="services" value="Dermal Piercing" onclick="toggleTextBox()"><label for="dermal">Dermal Piercing</label></li>
                        <li><input type="checkbox" id="eyebrow" name="services" value="Eyebrow Piercing" onclick="toggleTextBox()"><label for="eyebrow">Eyebrow Piercing</label></li>
                        <li><input type="checkbox" id="fangs" name="services" value="Fangs Piercing" onclick="toggleTextBox()"><label for="fangs">Fangs Piercing</label></li>
                        <li><input type="checkbox" id="flat" name="services" value="Flat/Scapha Piercing" onclick="toggleTextBox()"><label for="flat">Flat/Scapha Piercing</label></li>
                        <li><input type="checkbox" id="forward-helix" name="services" value="Forward Helix Piercing" onclick="toggleTextBox()"><label for="forward-helix">Forward Helix Piercing</label></li>
                        <li><input type="checkbox" id="grid" name="services" value="Grid Piercing" onclick="toggleTextBox()"><label for="grid">Grid Piercing</label></li>
                        <li><input type="checkbox" id="hood" name="services" value="Hood Piercing" onclick="toggleTextBox()"><label for="hood">Hood Piercing</label></li>
                        <li><input type="checkbox" id="industrial" name="services" value="Industrial Piercing" onclick="toggleTextBox()"><label for="industrial">Industrial Piercing</label></li>
                        <li><input type="checkbox" id="lip" name="services" value="Lip Piercing" onclick="toggleTextBox()"><label for="lip">Lip Piercing</label></li>
                        <li><input type="checkbox" id="navel" name="services" value="Navel Piercing" onclick="toggleTextBox()"><label for="navel">Navel Piercing</label></li>
                        <li><input type="checkbox" id="nose" name="services" value="Nose Piercing" onclick="toggleTextBox()"><label for="nose">Nose Piercing</label></li>
                        <li><input type="checkbox" id="septum" name="services" value="Septum Piercing" onclick="toggleTextBox()"><label for="septum">Septum Piercing</label></li>
                        <li><input type="checkbox" id="surface" name="services" value="Surface Piercing" onclick="toggleTextBox()"><label for="surface">Surface Piercing</label></li>
                        <li><input type="checkbox" id="tongue" name="services" value="Tongue Piercing" onclick="toggleTextBox()"><label for="tongue">Tongue Piercing</label></li>
                        <li><input type="checkbox" id="tragus" name="services" value="Tragus Piercing" onclick="toggleTextBox()"><label for="tragus">Tragus Piercing</label></li>
                        <li><input type="checkbox" id="vertical-labret" name="services" value="Vertical Labret Piercing" onclick="toggleTextBox()"><label for="vertical-labret">Vertical Labret Piercing</label></li>
                    </ul>
                </div>

                <!-- Services Column -->
                <div>
                    <div class="column-title">Jewelry Change / Downsizing</div>
                    <ul class="services-column">
                        <li><input type="checkbox" id="jewelry-change-one" name="services" value="Jewelry Change (One Change)" onclick="toggleTextBox()"><label for="jewelry-change-one">Jewelry Change (One Change)</label></li>
                        <li><input type="checkbox" id="jewelry-change-two" name="services" value="Jewelry Change (Two Changes)" onclick="toggleTextBox()"><label for="jewelry-change-two">Jewelry Change (Two Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-three" name="services" value="Jewelry Change (Three Changes)" onclick="toggleTextBox()"><label for="jewelry-change-three">Jewelry Change (Three Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-four" name="services" value="Jewelry Change (Four Changes)" onclick="toggleTextBox()"><label for="jewelry-change-four">Jewelry Change (Four Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-five" name="services" value="Jewelry Change (Five Changes)" onclick="toggleTextBox()"><label for="jewelry-change-five">Jewelry Change (Five Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-six" name="services" value="Jewelry Change (Six Changes)" onclick="toggleTextBox()"><label for="jewelry-change-six">Jewelry Change (Six Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-seven" name="services" value="Jewelry Change (Seven Changes)" onclick="toggleTextBox()"><label for="jewelry-change-seven">Jewelry Change (Seven Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-change-eight" name="services" value="Jewelry Change (Eight Changes)" onclick="toggleTextBox()"><label for="jewelry-change-eight">Jewelry Change (Eight Changes)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-one" name="services" value="Jewelry Downsize (One)" onclick="toggleTextBox()"><label for="jewelry-downsize-one">Jewelry Downsize (One)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-two" name="services" value="Jewelry Downsize (Two)" onclick="toggleTextBox()"><label for="jewelry-downsize-two">Jewelry Downsize (Two)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-three" name="services" value="Jewelry Downsize (Three)" onclick="toggleTextBox()"><label for="jewelry-downsize-three">Jewelry Downsize (Three)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-four" name="services" value="Jewelry Downsize (Four)" onclick="toggleTextBox()"><label for="jewelry-downsize-four">Jewelry Downsize (Four)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-five" name="services" value="Jewelry Downsize (Five)" onclick="toggleTextBox()"><label for="jewelry-downsize-five">Jewelry Downsize (Five)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-six" name="services" value="Jewelry Downsize (Six)" onclick="toggleTextBox()"><label for="jewelry-downsize-six">Jewelry Downsize (Six)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-seven" name="services" value="Jewelry Downsize (Seven)" onclick="toggleTextBox()"><label for="jewelry-downsize-seven">Jewelry Downsize (Seven)</label></li>
                        <li><input type="checkbox" id="jewelry-downsize-eight" name="services" value="Jewelry Downsize (Eight)" onclick="toggleTextBox()"><label for="jewelry-downsize-eight">Jewelry Downsize (Eight)</label></li>
                        <li><input type="checkbox" id="jewelry-removal" name="services" value="Jewelry Removal (General)" onclick="toggleTextBox()"><label for="jewelry-removal">Jewelry Removal (General)</label></li>
                        <li><input type="checkbox" id="general-checkup" name="services" value="General Checkup" onclick="toggleTextBox()"><label for="general-checkup">General Checkup</label></li>
                    </ul>
                </div>
            </div>
        </fieldset>

        <!-- Conditional text box for Jewelry Change and Downsizing -->
        <div id="piercing-change-textbox" class="conditional-input">
            <label for="piercing-change-details">Please specify jewelry change details:</label><br>
            <textarea id="piercing-change-details" name="piercing-change-details" rows="4" cols="50"></textarea>
        </div>

        <input type="submit" value="Submit">
    </form>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JotForm with Dynamic Logic</title>
</head>
<body>
    <h1>Your JotForm</h1>
    <!-- Embed your JotForm -->
    <iframe id="jotform-iframe" src="https://form.jotform.com/242687434974269" style="width:100%; height:600px;" frameborder="0"></iframe>

<script>
    window.addEventListener("message", function(event) {
    console.log("Received message:", event.data);
    
    const [fieldName, resourceStatus] = event.data.split(':');

    // Update the hidden field in JotForm using its unique name or field ID
    if (fieldName === 'juniorPiercer') {
        document.querySelector('input[name="q83_juniorpiercer"]').value = resourceStatus;
    } else if (fieldName === 'piercerStatus') {
        document.querySelector('input[name="q82_piercerstatus"]').value = resourceStatus;
    }

    console.log(`Updated ${fieldName} to: ${resourceStatus}`);
});

</script>
</body>
</html>
